<h1 id="scaffold-a-new-expectation-suite-experimental">Scaffold a new Expectation Suite (Experimental)</h1>
<p>This process helps you avoid writing lots of boilerplate when authoring suites by allowing you to select columns and other factors that you care about and letting a profiler write some candidate expectations for you to adjust.</p>

<p><strong>Expectation Suite Name</strong>: <code class="language-plaintext highlighter-rouge">taxi.demo</code></p>

<p>We’d love it if you’d <strong>reach out to us on</strong> the <a href="https://greatexpectations.io/slack"><strong>Great Expectations Slack Channel</strong></a>!</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">great_expectations</span> <span class="k">as</span> <span class="n">ge</span>
<span class="kn">from</span> <span class="nn">great_expectations.checkpoint</span> <span class="kn">import</span> <span class="n">LegacyCheckpoint</span>
<span class="kn">from</span> <span class="nn">great_expectations.profile.user_configurable_profiler</span> <span class="kn">import</span> <span class="n">UserConfigurableProfiler</span>
<span class="kn">from</span> <span class="nn">great_expectations.data_context.types.resource_identifiers</span> <span class="kn">import</span> <span class="n">ValidationResultIdentifier</span>

<span class="n">context</span> <span class="o">=</span> <span class="n">ge</span><span class="p">.</span><span class="n">data_context</span><span class="p">.</span><span class="n">DataContext</span><span class="p">()</span>

<span class="n">expectation_suite_name</span> <span class="o">=</span> <span class="s">"taxi.demo"</span>

<span class="c1"># Wipe the suite clean to prevent unwanted expectations in the batch
</span><span class="n">suite</span> <span class="o">=</span> <span class="n">context</span><span class="p">.</span><span class="n">create_expectation_suite</span><span class="p">(</span><span class="n">expectation_suite_name</span><span class="p">,</span> <span class="n">overwrite_existing</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="n">batch_kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s">'path'</span><span class="p">:</span> <span class="s">'D:</span><span class="se">\\</span><span class="s">gathi</span><span class="se">\\</span><span class="s">great_expecatation</span><span class="se">\\</span><span class="s">ge_tutorials</span><span class="se">\\</span><span class="s">great_expectations</span><span class="se">\\</span><span class="s">..</span><span class="se">\\</span><span class="s">data</span><span class="se">\\</span><span class="s">yellow_tripdata_sample_2019-01.csv'</span><span class="p">,</span> <span class="s">'datasource'</span><span class="p">:</span> <span class="s">'data__dir'</span><span class="p">,</span> <span class="s">'data_asset_name'</span><span class="p">:</span> <span class="s">'yellow_tripdata_sample_2019-01'</span><span class="p">}</span>
<span class="n">batch</span> <span class="o">=</span> <span class="n">context</span><span class="p">.</span><span class="n">get_batch</span><span class="p">(</span><span class="n">batch_kwargs</span><span class="p">,</span> <span class="n">suite</span><span class="p">)</span>
<span class="n">batch</span><span class="p">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>c:\python\python39\lib\site-packages\great_expectations\expectations\metrics\column_aggregate_metrics\column_quantile_values.py:3: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated since Python 3.3, and in 3.10 it will stop working
  from collections import Iterable
</code></pre></div></div>

<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>vendor_id</th>
      <th>pickup_datetime</th>
      <th>dropoff_datetime</th>
      <th>passenger_count</th>
      <th>trip_distance</th>
      <th>rate_code_id</th>
      <th>store_and_fwd_flag</th>
      <th>pickup_location_id</th>
      <th>dropoff_location_id</th>
      <th>payment_type</th>
      <th>fare_amount</th>
      <th>extra</th>
      <th>mta_tax</th>
      <th>tip_amount</th>
      <th>tolls_amount</th>
      <th>improvement_surcharge</th>
      <th>total_amount</th>
      <th>congestion_surcharge</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>2019-01-15 03:36:12</td>
      <td>2019-01-15 03:42:19</td>
      <td>1</td>
      <td>1.0</td>
      <td>1</td>
      <td>N</td>
      <td>230</td>
      <td>48</td>
      <td>1</td>
      <td>6.5</td>
      <td>0.5</td>
      <td>0.5</td>
      <td>1.95</td>
      <td>0.0</td>
      <td>0.3</td>
      <td>9.75</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>2019-01-25 18:20:32</td>
      <td>2019-01-25 18:26:55</td>
      <td>1</td>
      <td>0.8</td>
      <td>1</td>
      <td>N</td>
      <td>112</td>
      <td>112</td>
      <td>1</td>
      <td>6.0</td>
      <td>1.0</td>
      <td>0.5</td>
      <td>1.55</td>
      <td>0.0</td>
      <td>0.3</td>
      <td>9.35</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>2019-01-05 06:47:31</td>
      <td>2019-01-05 06:52:19</td>
      <td>1</td>
      <td>1.1</td>
      <td>1</td>
      <td>N</td>
      <td>107</td>
      <td>4</td>
      <td>2</td>
      <td>6.0</td>
      <td>0.0</td>
      <td>0.5</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>0.3</td>
      <td>6.80</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>2019-01-09 15:08:02</td>
      <td>2019-01-09 15:20:17</td>
      <td>1</td>
      <td>2.5</td>
      <td>1</td>
      <td>N</td>
      <td>143</td>
      <td>158</td>
      <td>1</td>
      <td>11.0</td>
      <td>0.0</td>
      <td>0.5</td>
      <td>3.00</td>
      <td>0.0</td>
      <td>0.3</td>
      <td>14.80</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>2019-01-25 18:49:51</td>
      <td>2019-01-25 18:56:44</td>
      <td>1</td>
      <td>0.8</td>
      <td>1</td>
      <td>N</td>
      <td>246</td>
      <td>90</td>
      <td>1</td>
      <td>6.5</td>
      <td>1.0</td>
      <td>0.5</td>
      <td>1.65</td>
      <td>0.0</td>
      <td>0.3</td>
      <td>9.95</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div>

<h2 id="select-the-columns-on-which-you-would-like-to-scaffold-expectations-and-those-which-you-would-like-to-ignore">Select the columns on which you would like to scaffold expectations and those which you would like to ignore.</h2>

<p>Great Expectations will choose which expectations might make sense for a column based on the <strong>data type</strong> and <strong>cardinality</strong> of the data in each selected column.</p>

<p>Simply comment out columns that are important and should be included. You can select multiple lines and
use a jupyter keyboard shortcut to toggle each line: <strong>Linux/Windows</strong>:
<code class="language-plaintext highlighter-rouge">Ctrl-/</code>, <strong>macOS</strong>: <code class="language-plaintext highlighter-rouge">Cmd-/</code></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ignored_columns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">'vendor_id'</span><span class="p">,</span>
    <span class="s">'pickup_datetime'</span><span class="p">,</span>
    <span class="s">'dropoff_datetime'</span><span class="p">,</span>
    <span class="c1">#'passenger_count',
</span>    <span class="s">'trip_distance'</span><span class="p">,</span>
    <span class="s">'rate_code_id'</span><span class="p">,</span>
    <span class="s">'store_and_fwd_flag'</span><span class="p">,</span>
    <span class="s">'pickup_location_id'</span><span class="p">,</span>
    <span class="s">'dropoff_location_id'</span><span class="p">,</span>
    <span class="s">'payment_type'</span><span class="p">,</span>
    <span class="s">'fare_amount'</span><span class="p">,</span>
    <span class="s">'extra'</span><span class="p">,</span>
    <span class="s">'mta_tax'</span><span class="p">,</span>
    <span class="s">'tip_amount'</span><span class="p">,</span>
    <span class="s">'tolls_amount'</span><span class="p">,</span>
    <span class="s">'improvement_surcharge'</span><span class="p">,</span>
    <span class="s">'total_amount'</span><span class="p">,</span>
    <span class="s">'congestion_surcharge'</span>
<span class="p">]</span>
</code></pre></div></div>

<h2 id="run-the-scaffolder">Run the scaffolder</h2>

<p>The suites generated here are <strong>not meant to be production suites</strong> - they are <strong>scaffolds to build upon</strong>.</p>

<p><strong>To get to a production grade suite, you will definitely want to <a href="https://docs.greatexpectations.io/en/latest/guides/how_to_guides/creating_and_editing_expectations/how_to_edit_an_expectation_suite_using_a_disposable_notebook.html?utm_source=notebook&amp;utm_medium=scaffold_expectations">edit this
suite</a>
after scaffolding gets you close to what you want.</strong></p>

<p>This is highly configurable depending on your goals.
You can ignore columns or exclude certain expectations, specify a threshold for creating value set expectations, or even specify semantic types for a given column.
You can find more information about <a href="https://docs.greatexpectations.io/en/latest/guides/how_to_guides/creating_and_editing_expectations/how_to_create_an_expectation_suite_with_the_user_configurable_profiler.html">how to configure this profiler, including a list of the expectations that it uses, here.</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">profiler</span> <span class="o">=</span> <span class="n">UserConfigurableProfiler</span><span class="p">(</span><span class="n">profile_dataset</span><span class="o">=</span><span class="n">batch</span><span class="p">,</span>
    <span class="n">ignored_columns</span><span class="o">=</span><span class="n">ignored_columns</span><span class="p">,</span>
    <span class="n">excluded_expectations</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">not_null_only</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
    <span class="n">primary_or_compound_key</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
    <span class="n">semantic_types_dict</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">table_expectations_only</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
    <span class="n">value_set_threshold</span><span class="o">=</span><span class="s">"MANY"</span><span class="p">,</span>
    <span class="p">)</span>

<span class="n">suite</span> <span class="o">=</span> <span class="n">profiler</span><span class="p">.</span><span class="n">build_suite</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Profiling:   0%|          | 0/1 [00:00&lt;?, ?it/s, Column=passenger_count]


Creating an expectation suite with the following expectations:

Table-Level Expectations
expect_table_columns_to_match_ordered_list
expect_table_row_count_to_be_between

Expectations by Column
Column Name: passenger_count | Column Data Type: INT | Cardinality: VERY_FEW
expect_column_max_to_be_between
expect_column_mean_to_be_between
expect_column_median_to_be_between
expect_column_min_to_be_between
expect_column_proportion_of_unique_values_to_be_between
expect_column_quantile_values_to_be_between
expect_column_values_to_be_in_set
expect_column_values_to_be_in_type_list
expect_column_values_to_not_be_null
</code></pre></div></div>

<h2 id="save--review-the-scaffolded-expectation-suite">Save &amp; review the scaffolded Expectation Suite</h2>

<p>Let’s save the scaffolded expectation suite as a JSON file in the
<code class="language-plaintext highlighter-rouge">great_expectations/expectations</code> directory of your project and rebuild the Data
 Docs site to make it easy to review the scaffolded suite.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">context</span><span class="p">.</span><span class="n">save_expectation_suite</span><span class="p">(</span><span class="n">suite</span><span class="p">,</span> <span class="n">expectation_suite_name</span><span class="p">)</span>

<span class="n">results</span> <span class="o">=</span> <span class="n">LegacyCheckpoint</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s">"_temp_checkpoint"</span><span class="p">,</span>
    <span class="n">data_context</span><span class="o">=</span><span class="n">context</span><span class="p">,</span>
    <span class="n">batches</span><span class="o">=</span><span class="p">[</span>
        <span class="p">{</span>
          <span class="s">"batch_kwargs"</span><span class="p">:</span> <span class="n">batch_kwargs</span><span class="p">,</span>
          <span class="s">"expectation_suite_names"</span><span class="p">:</span> <span class="p">[</span><span class="n">expectation_suite_name</span><span class="p">]</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">).</span><span class="n">run</span><span class="p">()</span>
<span class="n">validation_result_identifier</span> <span class="o">=</span> <span class="n">results</span><span class="p">.</span><span class="n">list_validation_result_identifiers</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">context</span><span class="p">.</span><span class="n">build_data_docs</span><span class="p">()</span>
<span class="n">context</span><span class="p">.</span><span class="n">open_data_docs</span><span class="p">(</span><span class="n">validation_result_identifier</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>c:\python\python39\lib\site-packages\jinja2\environment.py:1088: DeprecationWarning: 'soft_unicode' has been renamed to 'soft_str'. The old name will be removed in MarkupSafe 2.1.
  return concat(self.root_render_func(self.new_context(vars)))
</code></pre></div></div>

<h2 id="next-steps">Next steps</h2>
<p>After you review this scaffolded Expectation Suite in Data Docs you
should edit this suite to make finer grained adjustments to the expectations.
This can be done by running <code class="language-plaintext highlighter-rouge">great_expectations suite edit taxi.demo</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">batch_kwargs_2</span> <span class="o">=</span> <span class="p">{</span><span class="s">'path'</span><span class="p">:</span> <span class="s">'D:</span><span class="se">\\</span><span class="s">gathi</span><span class="se">\\</span><span class="s">great_expecatation</span><span class="se">\\</span><span class="s">ge_tutorials</span><span class="se">\\</span><span class="s">great_expectations</span><span class="se">\\</span><span class="s">..</span><span class="se">\\</span><span class="s">data</span><span class="se">\\</span><span class="s">yellow_tripdata_sample_2019-02.csv'</span><span class="p">,</span> <span class="s">'datasource'</span><span class="p">:</span> <span class="s">'data__dir'</span><span class="p">,</span> <span class="s">'data_asset_name'</span><span class="p">:</span> <span class="s">'yellow_tripdata_sample_2019-02'</span><span class="p">}</span>

<span class="n">my_checkpoint</span> <span class="o">=</span> <span class="n">LegacyCheckpoint</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s">"my_checkpoint"</span><span class="p">,</span>
    <span class="n">data_context</span><span class="o">=</span><span class="n">context</span><span class="p">,</span>
    <span class="n">batches</span><span class="o">=</span><span class="p">[</span>
        <span class="p">{</span>
          <span class="s">"batch_kwargs"</span><span class="p">:</span> <span class="n">batch_kwargs_2</span><span class="p">,</span>
          <span class="s">"expectation_suite_names"</span><span class="p">:</span> <span class="p">[</span><span class="s">"taxi.demo"</span><span class="p">]</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">)</span>

<span class="n">results</span> <span class="o">=</span> <span class="n">my_checkpoint</span><span class="p">.</span><span class="n">run</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>c:\python\python39\lib\site-packages\jinja2\environment.py:1088: DeprecationWarning: 'soft_unicode' has been renamed to 'soft_str'. The old name will be removed in MarkupSafe 2.1.
  return concat(self.root_render_func(self.new_context(vars)))
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Save the Checkpoint to your Data Context
</span><span class="n">my_checkpoint_json</span> <span class="o">=</span> <span class="n">my_checkpoint</span><span class="p">.</span><span class="n">config</span><span class="p">.</span><span class="n">to_json_dict</span><span class="p">()</span>
<span class="n">context</span><span class="p">.</span><span class="n">add_checkpoint</span><span class="p">(</span><span class="o">**</span><span class="n">my_checkpoint_json</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;great_expectations.checkpoint.checkpoint.LegacyCheckpoint at 0x1b4b6d56760&gt;
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># And here's how you can load it from your Data Context again
</span><span class="n">my_loaded_checkpoint</span> <span class="o">=</span> <span class="n">context</span><span class="p">.</span><span class="n">get_checkpoint</span><span class="p">(</span><span class="s">"my_checkpoint"</span><span class="p">)</span>

<span class="c1"># And then run validation again if you'd like
</span><span class="n">my_loaded_checkpoint</span><span class="p">.</span><span class="n">run</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>c:\python\python39\lib\site-packages\jinja2\environment.py:1088: DeprecationWarning: 'soft_unicode' has been renamed to 'soft_str'. The old name will be removed in MarkupSafe 2.1.
  return concat(self.root_render_func(self.new_context(vars)))





{
  "run_results": {
    "ValidationResultIdentifier::taxi/demo/20210804T182440.545826Z/20210804T182440.545826Z/8479f9ad9e8961a6bac205d71c08618c": {
      "validation_result": {
        "evaluation_parameters": {},
        "results": [
          {
            "exception_info": {
              "raised_exception": false,
              "exception_message": null,
              "exception_traceback": null
            },
            "success": true,
            "expectation_config": {
              "kwargs": {
                "column_list": [
                  "vendor_id",
                  "pickup_datetime",
                  "dropoff_datetime",
                  "passenger_count",
                  "trip_distance",
                  "rate_code_id",
                  "store_and_fwd_flag",
                  "pickup_location_id",
                  "dropoff_location_id",
                  "payment_type",
                  "fare_amount",
                  "extra",
                  "mta_tax",
                  "tip_amount",
                  "tolls_amount",
                  "improvement_surcharge",
                  "total_amount",
                  "congestion_surcharge"
                ],
                "result_format": {
                  "result_format": "SUMMARY",
                  "partial_unexpected_count": 20
                }
              },
              "meta": {},
              "expectation_type": "expect_table_columns_to_match_ordered_list"
            },
            "result": {
              "observed_value": [
                "vendor_id",
                "pickup_datetime",
                "dropoff_datetime",
                "passenger_count",
                "trip_distance",
                "rate_code_id",
                "store_and_fwd_flag",
                "pickup_location_id",
                "dropoff_location_id",
                "payment_type",
                "fare_amount",
                "extra",
                "mta_tax",
                "tip_amount",
                "tolls_amount",
                "improvement_surcharge",
                "total_amount",
                "congestion_surcharge"
              ]
            },
            "meta": {}
          },
          {
            "exception_info": {
              "raised_exception": false,
              "exception_message": null,
              "exception_traceback": null
            },
            "success": true,
            "expectation_config": {
              "kwargs": {
                "max_value": 10000,
                "min_value": 10000,
                "result_format": {
                  "result_format": "SUMMARY",
                  "partial_unexpected_count": 20
                }
              },
              "meta": {},
              "expectation_type": "expect_table_row_count_to_be_between"
            },
            "result": {
              "observed_value": 10000
            },
            "meta": {}
          },
          {
            "exception_info": {
              "raised_exception": false,
              "exception_message": null,
              "exception_traceback": null
            },
            "success": false,
            "expectation_config": {
              "kwargs": {
                "column": "passenger_count",
                "max_value": 1,
                "min_value": 1,
                "result_format": {
                  "result_format": "SUMMARY",
                  "partial_unexpected_count": 20
                }
              },
              "meta": {},
              "expectation_type": "expect_column_min_to_be_between"
            },
            "result": {
              "observed_value": 0,
              "element_count": 10000,
              "missing_count": null,
              "missing_percent": null
            },
            "meta": {}
          },
          {
            "exception_info": {
              "raised_exception": false,
              "exception_message": null,
              "exception_traceback": null
            },
            "success": true,
            "expectation_config": {
              "kwargs": {
                "column": "passenger_count",
                "max_value": 6,
                "min_value": 6,
                "result_format": {
                  "result_format": "SUMMARY",
                  "partial_unexpected_count": 20
                }
              },
              "meta": {},
              "expectation_type": "expect_column_max_to_be_between"
            },
            "result": {
              "observed_value": 6,
              "element_count": 10000,
              "missing_count": null,
              "missing_percent": null
            },
            "meta": {}
          },
          {
            "exception_info": {
              "raised_exception": false,
              "exception_message": null,
              "exception_traceback": null
            },
            "success": false,
            "expectation_config": {
              "kwargs": {
                "column": "passenger_count",
                "max_value": 1.5716,
                "min_value": 1.5716,
                "result_format": {
                  "result_format": "SUMMARY",
                  "partial_unexpected_count": 20
                }
              },
              "meta": {},
              "expectation_type": "expect_column_mean_to_be_between"
            },
            "result": {
              "observed_value": 1.3577,
              "element_count": 10000,
              "missing_count": null,
              "missing_percent": null
            },
            "meta": {}
          },
          {
            "exception_info": {
              "raised_exception": false,
              "exception_message": null,
              "exception_traceback": null
            },
            "success": true,
            "expectation_config": {
              "kwargs": {
                "column": "passenger_count",
                "max_value": 1.0,
                "min_value": 1.0,
                "result_format": {
                  "result_format": "SUMMARY",
                  "partial_unexpected_count": 20
                }
              },
              "meta": {},
              "expectation_type": "expect_column_median_to_be_between"
            },
            "result": {
              "observed_value": 1.0,
              "element_count": 10000,
              "missing_count": null,
              "missing_percent": null
            },
            "meta": {}
          },
          {
            "exception_info": {
              "raised_exception": false,
              "exception_message": null,
              "exception_traceback": null
            },
            "success": false,
            "expectation_config": {
              "kwargs": {
                "allow_relative_error": "lower",
                "column": "passenger_count",
                "quantile_ranges": {
                  "quantiles": [
                    0.05,
                    0.25,
                    0.5,
                    0.75,
                    0.95
                  ],
                  "value_ranges": [
                    [
                      1,
                      1
                    ],
                    [
                      1,
                      1
                    ],
                    [
                      1,
                      1
                    ],
                    [
                      2,
                      2
                    ],
                    [
                      5,
                      5
                    ]
                  ]
                },
                "result_format": {
                  "result_format": "SUMMARY",
                  "partial_unexpected_count": 20
                }
              },
              "meta": {},
              "expectation_type": "expect_column_quantile_values_to_be_between"
            },
            "result": {
              "observed_value": {
                "quantiles": [
                  0.05,
                  0.25,
                  0.5,
                  0.75,
                  0.95
                ],
                "values": [
                  0,
                  1,
                  1,
                  1,
                  5
                ]
              },
              "element_count": 10000,
              "missing_count": null,
              "missing_percent": null,
              "details": {
                "success_details": [
                  false,
                  true,
                  true,
                  false,
                  true
                ]
              }
            },
            "meta": {}
          },
          {
            "exception_info": {
              "raised_exception": false,
              "exception_message": null,
              "exception_traceback": null
            },
            "success": false,
            "expectation_config": {
              "kwargs": {
                "column": "passenger_count",
                "value_set": [
                  1,
                  2,
                  3,
                  4,
                  5,
                  6
                ],
                "result_format": {
                  "result_format": "SUMMARY",
                  "partial_unexpected_count": 20
                }
              },
              "meta": {},
              "expectation_type": "expect_column_values_to_be_in_set"
            },
            "result": {
              "element_count": 10000,
              "missing_count": 0,
              "missing_percent": 0.0,
              "unexpected_count": 1579,
              "unexpected_percent": 15.790000000000001,
              "unexpected_percent_total": 15.790000000000001,
              "unexpected_percent_nonmissing": 15.790000000000001,
              "partial_unexpected_list": [
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
              ],
              "partial_unexpected_index_list": [
                14,
                24,
                78,
                101,
                141,
                160,
                162,
                173,
                174,
                175,
                176,
                177,
                178,
                179,
                180,
                181,
                182,
                183,
                184,
                185
              ],
              "partial_unexpected_counts": [
                {
                  "value": 0,
                  "count": 1579
                }
              ]
            },
            "meta": {}
          },
          {
            "exception_info": {
              "raised_exception": false,
              "exception_message": null,
              "exception_traceback": null
            },
            "success": true,
            "expectation_config": {
              "kwargs": {
                "column": "passenger_count",
                "result_format": {
                  "result_format": "SUMMARY",
                  "partial_unexpected_count": 20
                }
              },
              "meta": {},
              "expectation_type": "expect_column_values_to_not_be_null"
            },
            "result": {
              "element_count": 10000,
              "unexpected_count": 0,
              "unexpected_percent": 0.0,
              "unexpected_percent_total": 0.0,
              "partial_unexpected_list": []
            },
            "meta": {}
          },
          {
            "exception_info": {
              "raised_exception": false,
              "exception_message": null,
              "exception_traceback": null
            },
            "success": false,
            "expectation_config": {
              "kwargs": {
                "column": "passenger_count",
                "max_value": 0.0006,
                "min_value": 0.0006,
                "result_format": {
                  "result_format": "SUMMARY",
                  "partial_unexpected_count": 20
                }
              },
              "meta": {},
              "expectation_type": "expect_column_proportion_of_unique_values_to_be_between"
            },
            "result": {
              "observed_value": 0.0007,
              "element_count": 10000,
              "missing_count": null,
              "missing_percent": null
            },
            "meta": {}
          },
          {
            "exception_info": {
              "raised_exception": false,
              "exception_message": null,
              "exception_traceback": null
            },
            "success": true,
            "expectation_config": {
              "kwargs": {
                "column": "passenger_count",
                "type_list": [
                  "INTEGER",
                  "integer",
                  "int",
                  "int_",
                  "int8",
                  "int16",
                  "int32",
                  "int64",
                  "uint8",
                  "uint16",
                  "uint32",
                  "uint64",
                  "INT",
                  "INTEGER",
                  "INT64",
                  "TINYINT",
                  "BYTEINT",
                  "SMALLINT",
                  "BIGINT",
                  "IntegerType",
                  "LongType"
                ],
                "result_format": {
                  "result_format": "SUMMARY",
                  "partial_unexpected_count": 20
                }
              },
              "meta": {},
              "expectation_type": "expect_column_values_to_be_in_type_list"
            },
            "result": {
              "observed_value": "int64"
            },
            "meta": {}
          }
        ],
        "success": false,
        "statistics": {
          "evaluated_expectations": 11,
          "successful_expectations": 6,
          "unsuccessful_expectations": 5,
          "success_percent": 54.54545454545454
        },
        "meta": {
          "great_expectations_version": "0.13.25",
          "expectation_suite_name": "taxi.demo",
          "run_id": {
            "run_name": "20210804T182440.545826Z",
            "run_time": "2021-08-04T18:24:40.545826+00:00"
          },
          "batch_kwargs": {
            "path": "D:\\gathi\\great_expecatation\\ge_tutorials\\great_expectations\\..\\data\\yellow_tripdata_sample_2019-02.csv",
            "datasource": "data__dir",
            "data_asset_name": "yellow_tripdata_sample_2019-02"
          },
          "batch_markers": {
            "ge_load_time": "20210804T182440.507853Z",
            "pandas_data_fingerprint": "88b447d903f05fb594b87b13de399e45"
          },
          "batch_parameters": null,
          "validation_time": "20210804T182440.551826Z",
          "expectation_suite_meta": {
            "columns": {
              "congestion_surcharge": {
                "description": ""
              },
              "dropoff_datetime": {
                "description": ""
              },
              "dropoff_location_id": {
                "description": ""
              },
              "extra": {
                "description": ""
              },
              "fare_amount": {
                "description": ""
              },
              "improvement_surcharge": {
                "description": ""
              },
              "mta_tax": {
                "description": ""
              },
              "passenger_count": {
                "description": ""
              },
              "payment_type": {
                "description": ""
              },
              "pickup_datetime": {
                "description": ""
              },
              "pickup_location_id": {
                "description": ""
              },
              "rate_code_id": {
                "description": ""
              },
              "store_and_fwd_flag": {
                "description": ""
              },
              "tip_amount": {
                "description": ""
              },
              "tolls_amount": {
                "description": ""
              },
              "total_amount": {
                "description": ""
              },
              "trip_distance": {
                "description": ""
              },
              "vendor_id": {
                "description": ""
              }
            },
            "great_expectations_version": "0.13.25"
          }
        }
      },
      "actions_results": {
        "store_validation_result": {
          "class": "StoreValidationResultAction"
        },
        "store_evaluation_params": {
          "class": "StoreEvaluationParametersAction"
        },
        "update_data_docs": {
          "local_site": "file://D:\\gathi\\great_expecatation\\ge_tutorials\\great_expectations\\uncommitted/data_docs/local_site/validations\\taxi\\demo\\20210804T182440.545826Z\\20210804T182440.545826Z\\8479f9ad9e8961a6bac205d71c08618c.html",
          "class": "UpdateDataDocsAction"
        }
      }
    }
  },
  "evaluation_parameters": null,
  "success": false,
  "run_id": {
    "run_name": "20210804T182440.545826Z",
    "run_time": "2021-08-04T18:24:40.545826+00:00"
  },
  "validation_operator_config": {
    "class_name": "ActionListValidationOperator",
    "module_name": "great_expectations.validation_operators",
    "name": "default-action-list-validation-operator",
    "kwargs": {
      "action_list": [
        {
          "name": "store_validation_result",
          "action": {
            "class_name": "StoreValidationResultAction"
          }
        },
        {
          "name": "store_evaluation_params",
          "action": {
            "class_name": "StoreEvaluationParametersAction"
          }
        },
        {
          "name": "update_data_docs",
          "action": {
            "class_name": "UpdateDataDocsAction",
            "site_names": []
          }
        }
      ],
      "result_format": {
        "result_format": "SUMMARY",
        "partial_unexpected_count": 20
      }
    }
  }
}
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">validation_result_identifier</span> <span class="o">=</span> <span class="n">results</span><span class="p">.</span><span class="n">list_validation_result_identifiers</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">context</span><span class="p">.</span><span class="n">build_data_docs</span><span class="p">()</span>
<span class="n">context</span><span class="p">.</span><span class="n">open_data_docs</span><span class="p">(</span><span class="n">validation_result_identifier</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
</code></pre></div></div>
